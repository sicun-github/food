(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/set_userinfo/set_userinfo"],{"0785":function(e,t,n){"use strict";n.r(t);var a=n("9ced"),r=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);t["default"]=r.a},"15eb":function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("8035"),n("a9ff");a(n("66fd"));var r=a(n("5f5d"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"44e1":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},r=[]},"5e27":function(e,t,n){"use strict";var a=n("df85"),r=n.n(a);r.a},"5f5d":function(e,t,n){"use strict";n.r(t);var a=n("44e1"),r=n("0785");for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);n("5e27");var o=n("f0c5"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"569eff66",null,!1,a["a"],void 0);t["default"]=s.exports},"9ced":function(e,t,n){"use strict";(function(e,a){var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("2eee")),o=r(n("c973")),s=(n("2ef0"),e.importObject("user")),i={data:function(){return{username:"",phone:"123123",avatar:"https://wx.qlogo.cn/mmopen/vi_32/Hx7MFkCEmZVHziaTTiaHSiaCs4ApnH5CD0nYOhOg1nYUUMYtxMXkL6L4VL5icRfO5w4LGzW5ib0FZicwj2MficyYfZgCw/132"}},computed:{openid:function(){return this.$store.state.user.openid}},methods:{onChange:function(e){console.log(e.detail)},updateImage:function(){var t=this;a.chooseMedia({count:1,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(){var n=(0,o.default)(u.default.mark((function n(a){var r,o;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=a.tempFiles[0].tempFilePath,n.next=3,e.uploadFile({filePath:r,cloudPath:"".concat((new Date).getTime(),"2022.jpg"),onUploadProgress:function(e){console.log(e);Math.round(100*e.loaded/e.total)}});case 3:o=n.sent,t.avatar=o.fileID;case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})},update:function(){var e=this;return(0,o.default)(u.default.mark((function t(){var n;return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.updateUserInfo({user_id:e.openid,user_name:e.username,user_avatar:e.avatar,user_phone:e.phone});case 2:n=t.sent,200==n.status&&(a.showToast({title:"更改成功！"}),e.$store.dispatch("getUserInfo",e.openid),setTimeout((function(){a.navigateBack()}),1e3));case 4:case"end":return t.stop()}}),t)})))()}},onLoad:function(){this.username=this.$store.state.user.userinfo.user_name,this.avatar=this.$store.state.user.userinfo.user_avatar,this.phone=this.$store.state.user.userinfo.user_phone}};t.default=i}).call(this,n("a9ff")["default"],n("543d")["default"])},df85:function(e,t,n){}},[["15eb","common/runtime","common/vendor"]]]);